//
// GENERATED CODE, DO NOT EDIT THIS FILE!
//
// Generated by AbstractChoiceGenerator for AcknowledgementDetails1Choice.  ISO2002 ID# _oIaocSzSEeKZfox_pyYpTA.
//

using System.Xml;
using System.Xml.Linq;

namespace BeneficialStrategies.Iso20022.Choices;

/// <summary>
/// Reference of the PayInSchedule or the PayInCall being acknowledged. This is the Message Identification element from the Report Data sequence of the Pay In Schedule message or the Pay In Call message.
/// </summary>
[KnownType(typeof(AcknowledgementDetails1Choice.PayInScheduleReference))]
[KnownType(typeof(AcknowledgementDetails1Choice.PayInCallReference))]
public abstract partial record AcknowledgementDetails1Choice_ : IIsoXmlSerilizable<AcknowledgementDetails1Choice_>
{
    /// <summary>
    /// Serialize the state of this record per ISO 20022 specifications.
    /// Abstract here, overridden in each of the concrete choices.
    /// </summary>
    public abstract void Serialize(XmlWriter writer, string xmlNamespace);
    
    /// <summary>
    /// After detecting the choice being deserialized, defers the serialization of the element to the appropriate concrete choice record.
    /// </summary>
    public static AcknowledgementDetails1Choice_ Deserialize(XElement element)
    {
        var elementWithPayload = element;
        return elementWithPayload.Name.LocalName switch
        {
             "PayInSchdlRef" => AcknowledgementDetails1Choice.PayInScheduleReference.Deserialize(elementWithPayload),
             "PayInCallRef" => AcknowledgementDetails1Choice.PayInCallReference.Deserialize(elementWithPayload),
            _ => throw new InvalidOperationException($@"Xml tag '{elementWithPayload.Name.LocalName}' does not correspond to a valid AcknowledgementDetails1Choice choice.")
        };
    }
}
