//
// GENERATED CODE, DO NOT EDIT THIS FILE!
//
// Generated by ComponentGenerator for TransactionsBin2.  ISO2002 ID# _mbY-AUD5EeW1yage4PQ__A.
//

using BeneficialStrategies.Iso20022.Choices;
using BeneficialStrategies.Iso20022.ExternalSchema;
using BeneficialStrategies.Iso20022.UserDefined;
using System.Xml;
using System.Xml.Linq;

namespace BeneficialStrategies.Iso20022.Components;

/// <summary>
/// Specifies aggregated details on transactions within a defined numeric range bin.
/// </summary>
public partial record TransactionsBin2
     : IIsoXmlSerilizable<TransactionsBin2>
{
    #nullable enable
    
    /// <summary>
    /// Total number of transactions executed for that bin. Transactions that have been cancelled should be excluded from the reported figure.
    /// </summary>
    public required IsoNumber NumberOfTransactions { get; init; } 
    /// <summary>
    /// Total notional amount traded represented by all transactions executed on the reporting day which size lies in the bin's range, expressed in the currency as specified in the local regulation (except for emission allowances and emission allowance derivatives: tons of carbon dioxide). Transactions that have been cancelled should be excluded from the reported figure.
    /// </summary>
    public required IsoDecimalNumber TotalNotionalAmount { get; init; } 
    /// <summary>
    /// Specific range the quantitative data relates to. Only allowed ranges must be used.
    /// </summary>
    public required FromToQuantityRange2 Range { get; init; } 
    
    #nullable disable
    
    
    /// <summary>
    /// Used to format the various primative types during serialization.
    /// </summary>
    public static SerializationFormatter SerializationFormatter { get; set; } = SerializationFormatter.GlobalInstance;
    
    /// <summary>
    /// Serializes the state of this record according to Iso20022 specifications.
    /// </summary>
    public void Serialize(XmlWriter writer, string xmlNamespace)
    {
        writer.WriteStartElement(null, "NbOfTxs", xmlNamespace );
        writer.WriteValue(SerializationFormatter.IsoNumber(NumberOfTransactions)); // data type Number System.UInt64
        writer.WriteEndElement();
        writer.WriteStartElement(null, "TtlNtnlAmt", xmlNamespace );
        writer.WriteValue(SerializationFormatter.IsoDecimalNumber(TotalNotionalAmount)); // data type DecimalNumber System.UInt64
        writer.WriteEndElement();
        writer.WriteStartElement(null, "Rg", xmlNamespace );
        Range.Serialize(writer, xmlNamespace);
        writer.WriteEndElement();
    }
    public static TransactionsBin2 Deserialize(XElement element)
    {
        throw new NotImplementedException();
    }
}
